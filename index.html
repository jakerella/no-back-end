<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>Look Ma, No Server!</title>

        <meta name="description" content="Testing Front End Code Without a Server">
        <meta name="author" content="Jordan Kasper">

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="stylesheet" href="node_modules/reveal.js/css/reveal.min.css">
        <link rel="stylesheet" href="node_modules/reveal.js/css/theme/sky.css" id="theme">

        <!-- For syntax highlighting -->
        <link rel="stylesheet" href="tomorrow.css">

        <style>
        aside.title-text {
            position: relative;
            top: -9.5em;
            left: 0;
            text-align: left;
            font-size: 0.8em;
        }
        aside.title-text h2, aside.title-text h3, aside.title-text h4 {
            color: #111;
            font-family: "Times New Roman", serif;
            letter-spacing: 0.01em;
        }
        aside.title-text h2, aside.title-text h3 {
            background-color: #fff;
        }
        aside.title-text h3 {
            position: relative;
            top: -0.5em;
            font-size: 1.2em;
        }
        </style>

        <!-- If the query includes 'print-pdf', include the PDF print sheet -->
        <script>
            if( window.location.search.match( /print-pdf/gi ) ) {
                var link = document.createElement( 'link' );
                link.rel = 'stylesheet';
                link.type = 'text/css';
                link.href = 'node_modules/reveal.js/css/print/pdf.css';
                document.getElementsByTagName( 'head' )[0].appendChild( link );
            }
        </script>

        <!--[if lt IE 9]>
        <script src="node_modules/reveal.js/lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class='reveal'>

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class='slides'>
                <section data-background='images/Alice_mock_turtle_cropped.png'>
                    <aside class='title-text'>
                        <h2>Look Ma, No Server!</h2>
                        <h3>Testing Front End Code Without a Server</h3>
                        <h4>Jordan Kasper</h4>
                    </aside>

                    <aside class='notes'>
                        <p>
                            Then the Queen left off, quite out of breath, and said to Alice, "Have you seen the Mock Turtle yet?"<br>
                            "No," said Alice. "I don't even know what a Mock Turtle is."<br>
                            "It's the thing Mock Turtle Soup is made from," said the Queen.<br>
                            -- From Alice's Adventures in Wonderland, Chapter 9
                        </p>
                    </aside>
                </section>

                <section>
                    <h2>Me</h2>
                </section>

                <section>
                    <section>
                        <h1>The Problem</h1>
                    </section>

                    <section>
                        <h2>Data-Driven Appications</h2>

                        <div class='fragment'>Diagram of App</div>
                    </section>

                    <section>
                        <h2>Service-Oriented Architecture</h2>

                        <div class='fragment'>Diagram of SOA</div>
                    </section>

                    <section>
                        <h2>Project Status</h2>

                        <div>Diagram of Incomplete Project</div>
                    </section>

                    <section>
                        <h2>Project Status</h2>

                        <div>Build Failing image?</div>
                    </section>

                    <section>
                        <h2>External Services</h2>

                        <div>Image of external service status (down)</div>
                    </section>

                    <section>
                        <h2>JavaScript Tests</h2>

                        <div class='fragment'>Diagram of JS Tests (blank)</div>
                    </section>

                    <section>
                        <h2>JavaScript Tests</h2>

                        <div class='fragment'>Diagram of JS Tests (real)</div>
                    </section>
                </section>

                <section>
                    <section>
                        <h1>The Plan</h1>
                    </section>

                    <section>
                        <h2>Goals:</h2>

                        <ol>
                            <li class='fragment'>No changes to our application</li>
                            <li class='fragment'>Handle successes <strong>and</strong> errors</li>
                            <li class='fragment'>Test both expected and unexpected data</li>
                        </ol>
                    </section>

                    <section>
                        <h2>How do we do that?</h2>
                    </section>

                    <section>
                        <h2>Hijack the Ajax Call</h2>

                        <div>Image of hijack (background?)</div>
                    </section>

                    <section>
                        <h3>Hijack the Ajax Call</h3>

                        <div>Diagram of Ajax call Hijacking</div>

                        <div class='fragment'>
                            <h3>Inspect the Request</h3>

                            <div>Image of inspection</div>
                        </div>
                        <div class='fragment'>
                            <h3>Return Mock Data</h3>

                            <div>Image of fake data</div>
                        </div>
                    </section>

                    <section>
                        <p style='font-size:1.5em;'>The Hunger Tests: Mocking<del>jay</del>data</p>

                        <div>Diagram of Ajax Mocking (real)</div>
                    </section>
                </section>

                <section>
                    <section>
                        <h1>The Exectuion</h1>
                    </section>

                    <section>
                        <h2>Tools Galore</h2>

                        <div class='fragment'><a href='https://github.com/jakerella/jquery-mockjax'>jQuery Mockjax</a></div>
                        <div class='fragment'><a href='https://docs.angularjs.org/api/ngMock/service/$httpBackend'>Angular $httpBackend (ng-mocks)</a></div>
                        <div class='fragment'><a href='#'>Jasmine.Ajax</a></div>
                        <div class='fragment'><a href='http://sinonjs.org/docs/#server'>Sinon</a></div>
                    </section>

                    <section>
                        <h3>What should I use?</h3>

                        <div class='fragment'>
                            <h4>Whatever makes your workflow easiest.</h4>
                        </div>
                    </section>

                    <section>
                        <h3>Not Helpful.</h3>

                        <div class='fragment'>
                            <h3>Yes it is.</h3>
                            <div>look of disapproval</div>
                        </div>
                    </section>

                    <section>
                        <h2>Let's look at some sample code...</h2>
                    </section>

                    <section>
                        <h2>Beer</h2>

                        <div>background image of beer</div>
                    </section>

                    <section>
                        <pre><code data-trim contenteditable>
[app code]
                        </code></pre>
                    </section>

                    <section>
                        <h2>Pseudo Tests</h2>
                        <p>Just like real tests, except that they actually pass.</p>

                        <pre class='fragment'><code data-trim contenteditable>
[pseudo test code]
                        </code></pre>
                    </section>

                    <section>
                        <h2>Idemopotency</h2>
                        <p>Just like real potency, only idemo.</p>
                    </section>

                    <section>
                        <pre><code data-trim contenteditable>
[pseudo setup and breakdown code]
                        </code></pre>
                    </section>

                    <section>
                        <pre><code data-trim contenteditable>
[pseudo ajax intecepting code]
                        </code></pre>
                    </section>

                    <section>
                        <h3>That's great, but I don't live in the pseudo world...</h3>

                        <p style='margin-top:4em;' class='fragment'>...or do you?</p>
                    </section>

                    <section>
                        <h3>jQuery Mockjax</h3>
                        <pre><code data-trim contenteditable>
[mockjax code - basic success]
                        </code></pre>
                    </section>

                    <section>
                        <pre><code data-trim contenteditable>
[mockjax code - basic 500]
                        </code></pre>
                    </section>

                    <section>
                        <h3>jQuery Mockjax</h3>
                        <pre><code data-trim contenteditable>
[mockjax code - custom response method]
                        </code></pre>
                    </section>

                    <section>
                        <h3>Angular $httpBackend</h3>
                        <pre><code data-trim contenteditable>
[angular code]
                        </code></pre>
                    </section>

                    <section>
                        <h3>Jasmine.ajax</h3>
                        <pre><code data-trim contenteditable>
[jasmine code]
                        </code></pre>
                    </section>

                    <section>
                        <h3>Sinon</h3>
                        <pre><code data-trim contenteditable>
[sinon code]
                        </code></pre>
                    </section>

                </section>


                <section>
                    <h2>Wrapping Things Up</h2>

                    <ul>
                        <li class='fragment'>Test your JavaScript code</li>
                        <li class='fragment'>Don't rely on external services (even your own)</li>
                        <li class='fragment'>Find a library that works for you</li>
                    </ul>
                </section>

                <section>
                    <h1>Thank You!</h1>
                    <h3>Look Ma, No Server</h3>
                    <h4>Testing Front End Code Without a Server</h4>
                    <p style='margin-top:2em;'>
                        Jordan Kasper<br>
                        <a href='http://twitter.com/jakerella'>@jakerella</a> | <a href='#'>bit.ly/[LINK]</a>
                    </p>
                </section>

            </div>

        </div>

        <script src="node_modules/reveal.js/lib/js/head.min.js"></script>
        <script src="node_modules/reveal.js/js/reveal.min.js"></script>

        <script>

        // Full list of configuration options available here:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: false,
            progress: false,
            history: true,
            transition: "linear",

            // Optional libraries used to extend on reveal.js
            dependencies: [
                { src: 'node_modules/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
                { src: 'node_modules/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                { src: 'node_modules/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                { src: 'node_modules/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                { src: 'node_modules/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
            ]
        });

        </script>

    </body>
</html>
